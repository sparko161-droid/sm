# SM Codex Portal · CONTRIBUTING

Документ описывает правила внесения изменений, стандарты кода и процесс работы над проектом.

---

# 1. Общие принципы

- Любые изменения должны **поддерживать единый стиль проекта**.
- Код должен быть:
  - читаемым,
  - поддерживаемым,
  - модульным,
  - без дублирования логики.
- Все разделы должны соответствовать:
  - архитектурным принципам,
  - UI-стандартам,
  - документированным паттернам.

---

# 2. Правила перед началом работы

Перед тем как добавить или изменить функциональность, необходимо:

1. Ознакомиться с:
   - `ARCHITECTURE.md`
   - `CONTENT_GUIDE.md`
   - `PLAN.md`
2. Проверить, нет ли уже аналогичного функционала.
3. Убедиться, что изменения не дублируют существующий код.
4. Сообщить тимлиду о планируемой правке (если работа командная).

---

# 3. Стиль кода

## 3.1 JavaScript

- Использовать **ES modules**.
- Запрещено:
  - inline JS в HTML,
  - глобальные переменные,
  - дублирование логики.
- Все функции должны:
  - иметь говорящие имена,
  - быть короткими (до 20–30 строк),
  - выполнять одну задачу.

## 3.2 HTML

- Использовать семантические теги (`section`, `article`, `nav`, `header`).
- Классы должны быть осмысленными и составными (`card--soft`, `onboarding-grid`).
- Не использовать стили и обработчики прямо в HTML.

## 3.3 CSS

- Следовать мобильной адаптивности.
- Использовать существующие переменные и токены.
- Не создавать новые классы при наличии подходящих паттернов.

---

# 4. Добавление нового раздела

1. Создать папку:  
   `/js/modules/<name>/`
2. Создать файл модуля:  
   `main.js` по шаблону:
   ```js
   export default {
     name: "<name>",
     async init(container) { ... },
     destroy() { ... }
   }
   ```
3. Зарегистрировать роут в `js/main.js`.
4. Добавить пункт навигации в `index.html`.
5. Добавить описание раздела в `CONTENT_GUIDE.md`.

---

# 5. Добавление калькулятора

1. Создать файл в `/js/calculators/<name>.js`.
2. Добавить HTML-шаблон в `js/modules/calculators/templates.js`.
3. Зарегистрировать в `js/modules/calculators/main.js`.
4. Калькуляторы **нельзя** размещать в других разделах.

---

# 6. Добавление квиза

1. Создать JSON-файл `/data/quizzes/<name>.json`.
2. Добавить запись в `QuizRegistry`.
3. Добавить кнопку:

   ```html
   <button class="quiz-trigger" data-quiz-category="..." data-quiz-id="...">
     Пройти квиз
   </button>
   ```

---

# 7. Документирование изменений

* Каждое значимое изменение должно быть отражено в `CHANGELOG.md`.
* Обновления регламентов или существенные изменения структуры должны быть отражены в документации.

---

# 8. Перед отправкой изменений

* проверить, что нет ошибок консоли;
* протестировать функциональность;
* убедиться, что документация актуальна;
* убедиться, что стиль интерфейса соблюдён.

---

# 9. Контакты ответственных

Если работа ведётся командой — сюда добавляется список тимлидов/разработчиков.

````


# CODE_STYLE_JS.md
Стандарты разработки и стиль JavaScript кода

Документ задаёт единые правила написания кода во всех модулях портала.

---

# 1. Общие принципы

- только **ES Modules**
- только **Vanilla JS**
- чистота, читаемость, модульность
- никаких глобальных переменных
- никаких inline-обработчиков в HTML

---

# 2. Именование

## 2.1 Функции
- действительный глагол + объект  
- пример: `initCalculator`, `bindEvents`, `loadQuizData`

## 2.2 Переменные
- `camelCase`
- отражают смысл:  
  `factHours`, `teamCoeff`, `isValid`, `calcRoot`

## 2.3 Модули
- имя папки = имя раздела  
  `/js/modules/support/`

---

# 3. Структура файла

Каждый модуль:

1. Импорты
2. Константы
3. Основные функции
4. Экспорт

---

# 4. Функции

### Должны:
- быть короткими (< 25 строк),
- выполнять одну задачу,
- иметь чёткое имя.

### Нельзя:
- использовать «магические числа»,
- смешивать DOM с бизнес-логикой.

---

# 5. Работа с DOM

Правило:  
**DOM — только в init() и bindEvents()**

Допускается:
```js
const input = root.querySelector("#value");
input.addEventListener("input", recalc);
````

Запрещено:

* изменения DOM в глубине бизнес-логики,
* inline функции в template strings.

---

# 6. Импорты

Правильно:

```js
import { formatMoney } from "/sm/js/calculators/core.js";
```

Неправильно:

```js
import utils from "../../utils.js";
```

---

# 7. Комментарии

Использовать:

* JSDoc для функций,
* пояснения только когда код действительно требует контекста.

---

# 8. Линтер (рекомендации)

Если добавлять линтер:

* AirBnB style base rules,
* запрет var,
* обязательные const/let.

---

# 9. Ошибки и исключения

* все данные входных полей проходят через `parseNumber()`
* форматирование — через `formatMoney()`
* запрещено ловить ошибки try/catch без логики обработки

---

# 10. Тестирование

Перед коммитом проверять:

* отсутствие ошибок в консоли,
* корректность работы модалок,
* работу всех калькуляторов,
* переключение секций subnav,
* отсутствие дубликатов DOM.

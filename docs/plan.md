# SM Codex Portal · План доработки

Документ описывает возможные направления развития портала:
- UX/UI улучшения,
- технический долг,
- новые функции,
- упрощение поддержки и масштабирование.

---

## 1. Быстрые улучшения (Short-term, 0–1 месяц)

### 1.1. UX и навигация

- Добавить на всех страницах короткий «хлебный» заголовок:
  - где я нахожусь (`Support / L1 / Кейсы`);
  - зачем раздел (1–2 строки).
- В разделе «Калькуляторы» добавить:
  - мини-легенду «для кого какой калькулятор»;
  - быстрые подсказки по входным данным (что брать из каких отчётов).

### 1.2. Ссылки между разделами

- Проставить перекрёстные ссылки:
  - из кейсов L1 → регламенты;
  - из кейсов L2 → матрицу компетенций;
  - из регламентов Sales → соответствующие квизы;
  - из описания мотивации → раздел «Калькуляторы».
- Вызовы типа «см. также» внизу ключевых блоков.

### 1.3. Мини-поиск по странице

- Добавить JS-поиск по текущему разделу:
  - поле ввода,
  - фильтрация блоков по ключевым словам (кейсы, термины, заголовки).

---

## 2. Среднесрочные улучшения (Mid-term, 1–3 месяца)

### 2.1. Централизованный конфиг разделов

- Вынести структуру страницы в JSON-конфиг:
  - список секций (id, заголовок, описание);
  - порядок;
  - наличие квизов/калькуляторов;
  - видимость в подменю.
- Генерировать подменю и секции на основе этого конфига.
- Плюс:
  - проще редактировать структуру без правки JS;
  - единый формат для всех отделов.

### 2.2. Улучшение системы квизов

- Добавить:
  - сохранение прогресса по квизам (localStorage);
  - отметки «пройдено» / «есть ошибки»;
  - простую статистику по количеству попыток.
- Расширить JSON-схему для:
  - пояснений к разделам;
  - ссылок на конкретные блоки портала.

### 2.3. Улучшение калькуляторов

- Вынести параметры (грейды, оклады, пороги) в отдельный конфиг:
  - `/data/calculators/config.json`.
- Дать возможность HR/руководству менять параметры без правки JS.
- Добавить проверки:
  - подсветка некорректных значений (отрицательные числа, странно большие значения);
  - подсказки по формату ввода.

---

## 3. Долгосрочные улучшения (Long-term, 3+ месяцев)

### 3.1. Генерация документации из кода

- Ввести JSDoc-комментарии для ключевых модулей и функций.
- Автоматически генерировать HTML/MD-документацию по структуре проекта.
- Синхронизировать DEV_GUIDE, ARCHITECTURE и реальный код.

### 3.2. Лёгкая миграция на TypeScript (опционально)

- Сначала — добавить JSDoc-типы.
- Потом — при необходимости перевести ключевые модули (Router, calculators) на TS.
- Цель —:
  - избежать ошибок в формулах;
  - типизировать структуры данных квизов и конфигов.

### 3.3. Интеграция с внешними системами

- Возможные сценарии:
  - подгрузка реальной статистики по кейсам;
  - чтение планов/факта из CRM/учётной системы;
  - полуавтоматический расчёт KPI по данным.

Это уже отдельный проект, но портал к этому готов архитектурно.

---

## 4. Упрощение поддержки и онбординга разработчиков

### 4.1. Check-list для новых разработчиков

- Оформить отдельный раздел в `docs/`:
  - как устроен Router;
  - как добавлять раздел;
  - как добавлять калькулятор;
  - как добавлять квиз;
  - как оформлять CSS.

### 4.2. Шаблоны

- Создать шаблон модуля раздела (`module-template.js`).
- Создать шаблон калькулятора (`calculator-template.js`).
- Создать шаблон квиза (`quiz-template.json`).

---

## 5. Возможные упрощения

### 5.1. Унификация подменю

- Сделать один компонент `Subnav`:
  - принимает список табов;
  - сам навешивает обработчики;
  - управляет классами активных секций.

### 5.2. Унификация карточек

- Ввести базовый компонент `Card`:
  - заголовок, подзаголовок, иконка, теги;
  - единые классы и отступы.

---

## 6. Приоритизация (пример)

1. **Сейчас**:
   - легенда/подсказки в разделе «Калькуляторы»;
   - ссылки между контентом (регламенты ↔ кейсы ↔ квизы).
2. **Далее**:
   - конфиг структур разделов;
   - конфиг грейдов и параметров калькуляторов.
3. **Потом**:
   - стат-отчёты по квизам;
   - автогенерация документации.

---

## 7. Как работать с этим документом

- Раз в квартал пересматривать план.
- Отмечать:
  - что сделано,
  - что отложено,
  - какие появились новые потребности.
- Поддерживать документ в актуальном состоянии вместе с DEV_GUIDE и ARCHITECTURE.
